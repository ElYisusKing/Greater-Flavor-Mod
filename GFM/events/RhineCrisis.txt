#The Rhine Crisis - French Declaration
country_event = {
	id = 33037
	title = "EVTNAME33037"
	desc = "EVTDESC33037"
	picture = "rhineland"
	major = yes

	is_triggered_only = yes

	option = {
		name = "EVT33037OPTA"
		#badboy = 5
		badboy = 10
		set_country_flag = french_claimed_the_rhine
		PRU = { set_country_flag = french_claimed_the_rhine }
		any_country = {
			limit = {
				is_greater_power = yes
				alliance_with = THIS
           		}
           		leave_alliance = THIS
        	}
		casus_belli = {              #JackSlater fix (2 regions to conquer in Rhineland)
			target = PRU
			type = free_peoples
			months = 6
		}
        	PRU = { country_event = 99925 }
        	any_country = {
            		limit = {
                		is_greater_power = no
                		OR = {
                    			primary_culture = north_german
                    			primary_culture = south_german
                		}
            		}
            		casus_belli = {
                		target = THIS
                		type = cut_down_to_size
                		months = 24
            		}
            		end_military_access = THIS
            		leave_alliance = THIS
            		relation = { who = THIS value = -200 }
        	}
        	any_country = {
            		limit = {
                		is_greater_power = yes
                		OR = {
                   			primary_culture = north_german
                    			primary_culture = south_german
                		}
            		}
            		end_military_access = THIS
            		leave_alliance = THIS
            		relation = { who = THIS value = -150 }
        	}
        	ai_chance = {
            		factor = 0.15
            		modifier = {
                		factor = 0
                		has_country_modifier = recently_lost_war
            		}
            		modifier = {
                		factor = 0
                		is_disarmed = yes
            		}
            		modifier = {
                		factor = 0
                		war_exhaustion = 1
            		}
            		modifier = {
                		factor = 0
                		num_of_revolts = 1
            		}
            		modifier = {
                		factor = 0
                		war = yes
            		}
        	}
    	}

    	option = {
        	name = "EVT33037OPTB"
        	prestige = -10
        	badboy = -2
        	remove_country_modifier = rhine_crisis
        	any_country = {
            		limit = {
                    		OR = {
                    			primary_culture = north_german
                    			primary_culture = south_german
                		}
            		}
            		relation = { who = THIS value = 50 }
        	}
        	ai_chance = { factor = 0.85 }
    	}

	option = {                #JackSlater fix
		name = "EVT33037OPTC"  # We will restore our old border on the Rhine by force!
		badboy = 24
		set_country_flag = french_claimed_the_rhine
		set_country_flag = french_claimed_the_natural_border
		PRU = { set_country_flag = french_claimed_the_rhine }
		casus_belli = {              #JackSlater fix (2 regions to conquer in Rhineland)
			target = PRU
			type = free_peoples
			months = 6
		}
		PRU = { country_event = 99925 }
		random_country = {
			limit = { 
				tag = BEL
				exists = yes
				is_vassal = no
				NOT = { number_of_states = 5 } #Flanders, Wallonia, Lux Rhineland and Zeeland
			}
			country_event = 777777715
			THIS = {
				casus_belli = {
					target = BEL
					type = conquest
					months = 20
				}
			}
		}
		random_country = { 
			limit = { 
				tag = WLL
				exists = yes
				is_vassal = no
				NOT = { number_of_states = 5 } #Flanders, Wallonia, Lux Rhineland and Zeeland
			}
			country_event = 777777715
			THIS = {
				casus_belli = {
					target = WLL
					type = conquest
					months = 20
				}
			}
		}
		random_country = { 
			limit = { 
				tag = FLA
				exists = yes
				is_vassal = no
				NOT = { number_of_states = 5 } #Flanders, Wallonia, Lux Rhineland and Zeeland
			}
			country_event = 777777715
			THIS = {
				casus_belli = {
					target = FLA
					type = conquest
					months = 20
				}
			}
		}
		random_country = { 
			limit = { 
				tag = LUX
				exists = yes
				is_vassal = no
				NOT = { number_of_states = 5 } #Flanders, Wallonia, Lux Rhineland and Zeeland
			}
			country_event = 777777715
			THIS = {
				casus_belli = {
					target = LUX
					type = conquest
					months = 20
				}
			}
		}
		random_country = { 
			limit = { 
				tag = LBG
				exists = yes
				is_vassal = no
				NOT = { number_of_states = 5 } #Flanders, Wallonia, Lux Rhineland and Zeeland
			}
			country_event = 777777715
			THIS = {
				casus_belli = {
					target = LBG
					type = conquest
					months = 20
				}
			}
		}
		random_country = { 
			limit = { 
				tag = NET
				exists = yes
				#owns = 381  #Limburg
				owns = 380  #Breda
			}
			country_event = 777777716
			THIS = {
				casus_belli = {
					target = NET
					type = acquire_state
					months = 20
				}
			}
		}
		#random_country = { 
		#	limit = { 
		#		tag = NET
		#		exists = yes
		#		LBG = { exists = yes vassal_of = NET }
		#	}
		#	country_event = 777777717
		#	THIS = {
		#		casus_belli = {
		#			target = NET
		#			type = cut_down_to_size
		#			months = 20
		#		}
		#	}
		#}
		any_country = {
			limit = { 
				is_greater_power = no
				OR = {
					primary_culture = north_german 
					primary_culture = south_german
				}
			}
			casus_belli = {
				target = THIS
				type = cut_down_to_size
				months = 24
			}
			end_military_access = THIS
			leave_alliance = THIS
			relation = { who = THIS value = -200 }
		}
		any_country = {
			limit = { 
				is_greater_power = yes
				OR = {
					primary_culture = north_german 
					primary_culture = south_german
				}
			}
			end_military_access = THIS
			leave_alliance = THIS
			relation = { who = THIS value = -150 }
		}
		ai_chance = { factor = 0 }
	}
}

###Rhine Crisis
# Conquest CB against BEL, WLL, FLA, LUX, LBG
country_event = {
	id = 777777715
	title = "The Rhine Crisis"
	desc = "EVTDESC99925"
	picture = "rhineland"
	
	is_triggered_only = yes
	
	option = {
		name = "EVT99925OPTA"
		prestige = 10
		end_military_access = FROM
		leave_alliance = FROM
		relation = { who = FROM value = -400 }
		FROM = { diplomatic_influence = { who = THIS value = -400 } }
		casus_belli = {
			target = FROM
			type = humiliate
			months = 20
		}
		FROM = {
			war = {
				target = THIS
				attacker_goal = {
					casus_belli = conquest
				}
				call_ally = yes
			}
		}
	}
}

# Acquire state CB against NET
country_event = {
	id = 777777716
	title = "The Rhine Crisis"
	desc = "EVTDESC99925"
	picture = "rhineland"
	
	is_triggered_only = yes
	
	option = {
		name = "EVT99925OPTA"
		prestige = 10
		end_military_access = FROM
		leave_alliance = FROM
		relation = { who = FROM value = -400 }
		FROM = { diplomatic_influence = { who = THIS value = -400 } }
		casus_belli = {
			target = FROM
			type = humiliate
			months = 20
		}
		FROM = {
			war = {
				target = THIS
				attacker_goal = {
					casus_belli = acquire_state
					#state_province_id = 381  # Limburg
					state_province_id = 380  # Breda
				}
				call_ally = yes
			}
		}
	}
}

# Cut down to size CB against NET (not needed)
#country_event = {
#	id = 777777717
#	title = "The Rhine Crisis"
#	desc = "EVTDESC99925"
#	picture = "rhineland"
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = "EVT99925OPTA"
#		prestige = 10
#		end_military_access = FROM
#		leave_alliance = FROM
#		relation = { who = FROM value = -400 }
#		FROM = { diplomatic_influence = { who = THIS value = -400 } }
#		casus_belli = {
#			target = FROM
#			type = humiliate
#			months = 20
#		}
#		FROM = {
#			war = {
#				target = THIS
#				attacker_goal = {
#					casus_belli = cut_down_to_size
#				}
#				call_ally = yes
#			}
#		}
#	}
#}

#The Rhine Crisis - French victory against the Netherlands
country_event = {
	id = 777777718
	title = "EVTNAME99994"
	desc = "EVTDESC99994"
	picture = "rhineland"

	trigger = {
		primary_culture = french
		capital = 425
		has_country_flag = french_claimed_the_natural_border
		has_recently_lost_war = no
                has_global_flag = left_bank_french_victory
		NET = {
			has_recently_lost_war = yes
			truce_with = THIS
		}
	}

	mean_time_to_happen = { days = 1 }

	option = {
		name = "Victory!"
		clr_country_flag = french_claimed_the_natural_border
		#any_owned = {
 		#	limit = { is_core = NET }
                #	secede_province = NET
		#}
		NET = {
			any_owned = {
 				limit = { is_core = BEL }
                		secede_province = THIS
			}
			any_owned = {
 				limit = { is_core = FLA }
                		secede_province = THIS
			}
			any_owned = {
 				limit = { is_core = WLL }
                		secede_province = THIS
			}
			any_owned = {
 				limit = { is_core = LUX }
                		secede_province = THIS
			}
			#any_owned = {
 			#	limit = {
			#		OR = {
			#			is_core = LBG
			#			province_id = 381 #Limburg
                	#		}
                	#	}
                	#	secede_province = THIS
                        #       381 = { remove_core = LBG }
			#}
		}
		random_country = {
			limit = {
				tag = LUX
                		exists = yes
                		vassal_of = NET
                	}
                	annex_to = THIS
		}
		random_country = {
			limit = {
				tag = LBG
                		exists = yes
                		vassal_of = NET
                	}
                	annex_to = THIS
		}
	}
}

# Prussian response
country_event = {
	id = 99925
	title = "The Rhine Crisis"
	desc = "EVTDESC99925"
	picture = "rhineland"

	#fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = "EVT99925OPTA"
		prestige = 10
		FRA_412 = { add_core = GER }
		any_country = {
			limit = {
				exists = yes
				is_greater_power = no
				OR = {
					primary_culture = north_german
					primary_culture = south_german
                		}
				NOT = { in_sphere = FROM }  #JackSlater fix
            		}
            		create_alliance = THIS
            		casus_belli = {
                		target = FROM
                		type = cut_down_to_size
                		months = 20
            		}
        	}
        	any_country = {
            		limit = {
                		exists = yes
                		is_greater_power = yes
                		NOT = { tag = THIS }
                		OR = {
                    			primary_culture = north_german
                    			primary_culture = south_german
                		}
            		}
            		country_event = 99978
        	}
        	war = {
            		target = FROM
            		attacker_goal = { casus_belli = humiliate }
            		attacker_goal = {
                		casus_belli = acquire_any_state
                		state_province_id = 412  # Alcase
            		}
            		#defender_goal = { casus_belli = liberate_country country = RHI }
			defender_goal = {
				casus_belli = free_peoples
				country = RHI
				state_province_id = 572  # Rhineland
			}
			defender_goal = {
				casus_belli = free_peoples
				country = RHI
				state_province_id = 573  # Pfalz
			}
            		call_ally = yes
        	}
        	ai_chance = {
            		factor = 0.7
           		modifier = {
                		factor = 100
                		FROM = { ai = no }
            		}
            		modifier = {
                		factor = 0.5
                		truce_with = FROM
            		}
            		modifier = {
                		factor = 0.5
                		war = yes
            		}
            		modifier = {
                		factor = 0.1
                		FROM = { alliance_with = RUS }
            		}
        	}
    	}

    	option = {
        	name = "EVT99925OPTB"
        	#prestige = -5
        	prestige = -20
        	FROM = { remove_country_modifier = rhine_crisis }
        	any_country = {
            		limit = {
                		exists = yes
                		is_greater_power = yes
                		OR = {
                    			primary_culture = north_german
                    			primary_culture = south_german
                		}
            		}
            		end_military_access = FROM
            		leave_alliance = FROM
            		relation = { who = FROM value = -150 }
        	}
		any_country = {
			limit = { 
				exists = yes
				is_greater_power = no
				OR = {
					primary_culture = north_german 
					primary_culture = south_german
				}
			}
			relation = { who = THIS value = -100 }
		}
        	ai_chance = {
            		factor = 0.30
            		modifier = {
                		factor = 0
                		FROM = { ai = no }
            		}
        	}
    	}
}

# Response from Others GP with german primary culture (often AUS)
country_event = {
    	id = 99978
    	title = "The Rhine Crisis"
    	desc = "EVTDESC99978"
    	picture = "rhineland"

    	#fire_only_once = yes
    	is_triggered_only = yes

    	option = {
        	name = "EVT99978OPTA"
        	prestige = 10
        	create_alliance = FROM
        	random_owned = {
            		limit = { exists = FRA }
            		owner = {
                		war = {
                    			target = FRA
                    			attacker_goal = { casus_belli = humiliate }
                    			attacker_goal = { casus_belli = war_reparations }
                    			defender_goal = { casus_belli = war_reparations }
                    			call_ally = yes
                		}
            		}
        	}
        	random_owned = {
            		limit = { exists = BOR }
            		owner = {
                		war = {
                    			target = BOR
                    			attacker_goal = { casus_belli = humiliate }
                    			attacker_goal = { casus_belli = war_reparations }
                    			defender_goal = { casus_belli = war_reparations }
                    			call_ally = yes
                		}
            		}
        	}
        	ai_chance = {
            		factor = 95
            		modifier = {
                		factor = 0.5
                		any_core = { owned_by = FROM }
            		}
			modifier = {
				#factor = 0.5    #JackSlater fix
				factor = 0.1
				#truce_with = FROM
				OR = {
					truce_with = FRA
					truce_with = BOR
				}
			}
            		modifier = {
                		#factor = 0.5   #JackSlater fix
				factor = 0.1
                		war = yes
            		}
            		modifier = {
                		factor = 5
                		FROM = { ai = no }
            		}
        	}
   	}

    	option = {
        	name = "EVT99978OPTB"
        	prestige = -5
        	relation = {
            		who = FROM
            		value = -200
        	}
        	ai_chance = {
            		factor = 5
            		modifier = {
                		factor = 5
                		any_core = { owned_by = FROM }
            		}
			modifier = {
				factor = 5   #JackSlater fix
				#truce_with = FROM
				OR = {
					truce_with = FRA
					truce_with = BOR
				}
			}
            		modifier = {
                		factor = 5
                		war = yes
            		}
            		modifier = {
                		factor = 0
                		FRA = { ai = no }
            		}
            		modifier = {
                		factor = 0
                		BOR = { ai = no }
            		}
        	}
    	}
}

#The Rhine Crisis - France loses
country_event = {
	id = 99993
	title = "EVTNAME99993"
	desc = "EVTDESC99993"
	major = yes

	#is_triggered_only = yes

	trigger = {
		OR = { 
			FRA = { truce_with = PRU has_country_modifier = rhine_crisis }
			BOR = { truce_with = PRU has_country_modifier = rhine_crisis }
		}
		NOT = { has_global_flag = clean_up_france_lost_rhine_crisis }
		575 = {  # Koln
			OR = {
				owned_by = PRU
				owned_by = NGF
				owned_by = GER
				owned_by = GCF
				owned_by = AUS
				owned_by = SGF
			}
		}
		PRU = { is_disarmed = no }
		war = no
	}

	mean_time_to_happen = { days = 1 }
	
	option = {
		name = "EVT99993OPTA"
		prestige = -15
		set_global_flag = clean_up_france_lost_rhine_crisis
		set_country_flag = lost_the_rhine_crisis
		remove_country_modifier = rhine_crisis
		any_owned = {
 			limit = {
				is_core = LBG
                	}
                	secede_province = LBG
                	NET = {
				381 = { remove_core = NET }
				create_vassal = LBG
				relation = { who = LBG value = 400 }
				381 = { add_core = NET }
			}
                	PRU = {
				relation = { who = LBG value = 400 }
				diplomatic_influence = { who = LBG value = 200 }
				create_alliance = LBG
			}
		}
		any_owned = {
 			limit = {
				is_core = LUX
                	}
                	secede_province = LUX
                	NET = {
				create_vassal = LUX
				relation = { who = LUX value = 400 }
			}
                	PRU = {
				relation = { who = LUX value = 400 }
				diplomatic_influence = { who = LUX value = 200 }
				create_alliance = LUX
			}
		}
		any_owned = {
 			limit = {
				is_core = BEL
                	}
                	secede_province = BEL
                	ENG = {
				relation = { who = BEL value = 400 }
				diplomatic_influence = { who = BEL value = 200 }
			}
		}
		any_owned = {
 			limit = {
				is_core = NET
                	}
                	secede_province = NET
		}
		any_country = {
			limit = { 
				exists = yes
				is_greater_power = yes
				OR = {
					primary_culture = north_german 
					primary_culture = south_german
				}
				war_with = THIS
			}
			end_war = THIS
		}
	}
}

#The Rhine Crisis - France Wins
country_event = {
	id = 99994
	title = "EVTNAME99994"
	desc = "EVTDESC99994"
	major = yes

	is_triggered_only = yes
	
	option = {
		#name = "EVT99993OPTA"
		name = "Victory!"
		prestige = 5
		set_global_flag = left_bank_french_victory
		#badboy = 5
		diplomatic_influence = {
			who = RHI
			value = 400
		}
		create_vassal = RHI
		create_alliance = RHI
		remove_country_modifier = rhine_crisis
		
		any_country = {
			limit = {
				owns = 570
				#truce_with = THIS   #JackSlater fix - if BAV in sphere of FRA
			}
			country_event = 99995
		}
		any_country = {
			limit = {
				owns = 571
				#truce_with = THIS   #JackSlater fix - if HES in sphere of FRA
			}
			country_event = 99995
		}
		any_country = {
			limit = { 
				exists = yes
				is_greater_power = yes
				OR = {
					primary_culture = north_german 
					primary_culture = south_german
				}
				war_with = THIS
			}
			end_war = THIS
		}
	}
}

#The Rhine Crisis - France Wins / Seceding Mainz & Kaiserslautern to Rhineland
country_event = {
	id = 99995
	title = "EVTNAME99995"
	desc = "EVTDESC99995"
	major = yes

	is_triggered_only = yes
	
	option = {
		name = "EVT99993OPTA"
		prestige = -15
		any_owned = {
			limit = { is_core = RHI }
			secede_province = RHI
			add_province_modifier = {
				name = cultural_resurgence
				duration = 7300
			}
		}
	}
}